<style>
  .expand-button {
  position: relative;
  width: 26px;
  height: 26px;
  border-radius: 50%;
  background-color: #ddd;
  cursor: pointer;
  user-select: none;
  transition: background-color 0.3s ease;
  box-shadow: 0 1px 3px rgba(0,0,0,0.15);
}

.accordion-toggle.collapsed .expand-button {
  background-color: #bbb;
}

.accordion-toggle .expand-button:after {
  content: '-';
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  font-weight: 700;
  font-size: 16px;
  color: #333;
  transition: content 0.3s ease;
}

.accordion-toggle.collapsed .expand-button:after {
  content: '+';
}

  .custom-section-header.with-divider {
    border-bottom: 2px solid #ccc;
    padding-bottom: 10px;
    margin-bottom: 20px;
  }
  .custom-section-title1 {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    font-weight: 700;
    font-size: 1.8rem;
    color: #222222;
    letter-spacing: 0.05em;
    padding-bottom: 8px;
    text-transform: capitalize;
    margin: 0;
  }
  .custom-text-muted {
    font-weight: 400;
    color: #777;
    font-style: Segoe UI;
    font-size: 1.5rem;
    text-transform: uppercase;
  }
  .custom-flex-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 15px;
    position: relative;
  }
  #carrierDropdowns {
    position: absolute;
    top: 40px;
    right: 0;
    background: white;
    border: 1px solid #ccc;
    box-shadow: 0 6px 12px rgba(0,0,0,.175);
    padding: 10px;
    display: none;
    z-index: 1000;
    width: 220px;
  }
  #carrierDropdowns ul {
    list-style: none;
    padding: 0;
    margin: 0 0 10px 0;
    border-bottom: 1px solid #eee;
  }
  #carrierDropdowns ul:last-child {
    border-bottom: none;
  }
  #carrierDropdowns ul li a {
    display: block;
    padding: 5px 10px;
    color: #333;
    text-decoration: none;
    cursor: pointer;
  }
  #carrierDropdowns ul li a:hover {
    background-color: #f5f5f5;
  }
  .modal-body .form-group {
    margin-bottom: 10px;
  }
  tr.hide-table-padding td {
    padding: 0;
  }

  .expand-button {
    position: relative;
    width: 20px;
  }

  .accordion-toggle .expand-button:after {
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    content: '-';
    font-weight: bold;
    font-size: 16px;
  }
  .accordion-toggle.collapsed .expand-button:after {
    content: '+';
  }
  .custom-nav-tabs-container {
    margin-bottom: 15px;
  }
  .custom-nav-tab-btn {
    cursor: pointer;
  }
  .custom-nav-tab-btn.active {
    background-color: #007bff;
    color: white !important;
  }
</style>

<div class="custom-nav-tabs-container d-flex flex-wrap">
  <!-- Detail Tab -->
  <div class="btn-group nav-tab-btn-group me-3 mb-2">
    <a href="#" class="btn btn-secondary custom-nav-tab-btn active" data-toggle="tab" data-tab="table1">SaveonRx</a>
  </div>

  <!-- Policies Tab -->
  <div class="btn-group nav-tab-btn-group me-3 mb-2">
    <a href="#" class="btn btn-secondary custom-nav-tab-btn" data-toggle="tab" data-tab="table2">S4rx</a>
  </div>
</div>

<div class="table-responsive">

  <table id="table1" class="table" style="display: table;">
    <thead>
      <tr>
        <th scope="col">#</th>
        <th scope="col">SaveonRx</th>
        <th scope="col">SaveonRx</th>
        <th scope="col">SaveonRx </th>
      </tr>
    </thead>
    <tbody>
      <tr class="accordion-toggle collapsed" href="#collapseOne" aria-controls="collapseOne" role="button" tabindex="0">
        <td class="expand-button"></td>
        <td>Drug Name</td>
        <td>Dosage</td>
        <td>Quantity</td>
      </tr>
      <tr class="hide-table-padding">
        <td></td>
        <td colspan="3" style="padding: 10px; background: #f9f9f9; border: 1px solid #ddd;">
          <div id="collapseOne" style="display:none;">
            <div style="display: flex; margin-bottom: 8px;">
              <div style="width: 35.35%; font-weight: bold;">label</div>
              <div style="width: 35.35%;">value</div>
              <div style="width: 35.35%;">value</div>
            </div>
            <div style="display: flex; margin-bottom: 8px;">
              <div style="width: 35.35%; font-weight: bold;">label</div>
              <div style="width: 35.35%;">value</div>
              <div style="width: 35.35%;">value</div>
            </div>
            <div style="display: flex; margin-bottom: 8px;">
              <div style="width: 35.35%; font-weight: bold;">label</div>
              <div style="width: 35.35%;">value</div>
              <div style="width: 35.35%;">value</div>
            </div>
            <div style="display: flex;">
              <div style="width: 35.35%; font-weight: bold;">label</div>
              <div style="width: 35.35%;">value</div>
              <div style="width: 35.35%;">value</div>
            </div>
          </div>
        </td>
      </tr>
    </tbody>
  </table>

  <table id="table2" class="table" style="display: none;">
    <thead>
      <tr>
        <th scope="col">#</th>
        <th scope="col">S4rx</th>
        <th scope="col">S4rx</th>
        <th scope="col">S4rx</th>
      </tr>
    </thead>
    <tbody>
      <tr class="accordion-toggle collapsed" href="#collapseTwo" aria-controls="collapseTwo" role="button" tabindex="0">
        <td class="expand-button"></td>
        <td>Drug Name</td>
        <td>Dosage</td>
        <td>Quantity</td>
      </tr>
      <tr class="hide-table-padding">
        <td></td>
        <td colspan="3" style="padding: 10px; background: #f9f9f9; border: 1px solid #ddd;">
          <div id="collapseTwo" style="display:none;">
            <div style="display: flex; margin-bottom: 8px;">
              <div style="width: 35.35%; font-weight: bold;">label</div>
              <div style="width: 35.35%;">value</div>
              <div style="width: 35.35%;">value</div>
            </div>
            <div style="display: flex; margin-bottom: 8px;">
              <div style="width: 35.35%; font-weight: bold;">label</div>
              <div style="width: 35.35%;">value</div>
              <div style="width: 35.35%;">value</div>
            </div>
            <div style="display: flex; margin-bottom: 8px;">
              <div style="width: 35.35%; font-weight: bold;">label</div>
              <div style="width: 35.35%;">value</div>
              <div style="width: 35.35%;">value</div>
            </div>
            <div style="display: flex;">
              <div style="width: 35.35%; font-weight: bold;">label</div>
              <div style="width: 35.35%;">value</div>
              <div style="width: 35.35%;">value</div>
            </div>
          </div>
        </td>
      </tr>
    </tbody>
  </table>
</div>

<div class="prescription-updated-info prescription-fields-panel mt-4">
  <div class="section-header with-divider">
    <h1 class="section-title">Current Prescriptions</h1>
    <div class="prescription-fields-edit">
      <a href="#" class="btn btn-primary btn-sm" data-toggle="modal" data-target="#prescriptionModal">
        <i class="fa fa-plus"></i> Add Prescription
      </a>
    </div>
  </div>

  <div class="alert alert-info text-center mt-3">
    <div style="font-size: 18px;">There are no "Current Prescriptions"</div>
    <div style="font-size: 14px;">This data is not available because it hasn't been created yet or you don't have permission.</div>
  </div>
</div>

<!-- Modal -->
<div class="modal fade" id="prescriptionModal" tabindex="-1" role="dialog" aria-labelledby="prescriptionModalLabel">
  <div class="modal-dialog" role="document">
    <div class="modal-content">

      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
        <h4 class="modal-title" id="prescriptionModalLabel">Add/Edit Prescription</h4>
      </div>

      <div class="modal-body">
        <form>
          <fieldset>
            <legend style="font-size: 16px;">Medication Information</legend>

            <div class="form-group">
              <label for="medicationInput">Medication <span class="text-danger">*</span></label>
              <input type="text" class="form-control input-sm" id="medicationInput" placeholder="Type to find medication">
            </div>

            <div class="form-group">
              <label for="dosageSelect">Refill Frequency <span class="text-danger">*</span></label>
              <select class="form-control input-sm" id="dosageSelect">
                <option value="">Every Month</option>
                <option value="">Every 2 Month</option>
                <option value="">Every 3 Month</option>
                <option value="">Every 4 Month</option>
                <option value="">Every 5 Month</option>
                <option value="">Every 6 Month</option>
                <option value="">Every 7 Month</option>
              </select>
            </div>

            <div class="form-group">
              <label for="QuanityInput">Quanity <span class="text-danger">*</span></label>
              <input type="text" class="form-control input-sm" id="QuanityInput" placeholder="Type to find Quanity">
            </div>

            <div class="form-group">
              <label for="dosageAmountSelect">Select a Dosage <span class="text-danger">*</span></label>
              <select class="form-control input-sm" id="dosageAmountSelect">
                <option value="">-- Select --</option>
              </select>
            </div>

            <div class="form-group">
              <label for="genericOkSelect">Is a generic Ok? <span class="text-danger">*</span></label>
              <select class="form-control input-sm" id="genericOkSelect">
                <option value="">- select -</option>
                <option value="yes">Yes</option>
                <option value="no">No</option>
              </select>
            </div>

            <p class="help-block"><strong>Fields marked with <span class="text-danger">*</span> are required.</strong></p>
          </fieldset>
        </form>
      </div>

      <div class="modal-footer">
        <button type="button" class="btn btn-success btn-sm">Save</button>
        <button type="button" class="btn btn-default btn-sm" data-dismiss="modal">Cancel</button>
      </div>

    </div>
  </div>
</div>

<script>
  document.querySelectorAll('.custom-nav-tab-btn').forEach((tabBtn) => {
    tabBtn.addEventListener('click', e => {
      e.preventDefault();

      document.querySelectorAll('.custom-nav-tab-btn').forEach(btn => btn.classList.remove('active'));
      tabBtn.classList.add('active');

      document.querySelectorAll('.table-responsive table').forEach(tbl => tbl.style.display = 'none');

      const tabToShow = tabBtn.getAttribute('data-tab');
      if(tabToShow) {
        document.getElementById(tabToShow).style.display = 'table';
      }
    });
  });

  document.querySelectorAll('.accordion-toggle').forEach(row => {
    row.addEventListener('click', () => {
      const collapseId = row.getAttribute('href');
      if (!collapseId) return;
      const collapseDiv = document.querySelector(collapseId);
      if (!collapseDiv) return;

      const isVisible = collapseDiv.style.display === 'block';
      collapseDiv.style.display = isVisible ? 'none' : 'block';

      if (isVisible) {
        row.classList.add('collapsed');
      } else {
        row.classList.remove('collapsed');
      }
    });
  });
</script>